# ë°ë“œë½ì´ë€?
ë‘ ê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œê°€ ì„œë¡œ ì§„í–‰ë˜ëŠ” ê²ƒì„ ë°©í•´
>![](https://i.imgur.com/yElcWWj.png)
>
>í•œ ì² í•™ìê°€ ì “ê°€ë½ì„ ì¡ìœ¼ë©´ ì˜† ì² í•™ìëŠ” ê¸°ë‹¤ë ¤ì•¼ í•¨

```c
void thread_one() // thread1ì´ ì‹¤í–‰í•  í•¨ìˆ˜
{
	pthread_mutex_lock(&first_mutex);
	pthread_mutex_lock(&second_mutex);
	/**
	* Do some work
	*/
	pthread_mutex_unlock(&second_mutex);
	pthread_mutex_unlock(&first_mutex);
}

void thread_two() // thread2ê°€ ì‹¤í–‰í•  í•¨ìˆ˜
{
	pthread_mutex_lock(&second_mutex);
	pthread_mutex_lock(&first_mutex);
	/**
	* Do some work
	*/
	pthread_mutex_unlock(&first_mutex);
	pthread_mutex_unlock(&second_mutex);
}
```
thread1ì´ `first_mutex`ì„ íšë“í•˜ê³ , thread2ê°€ `second_mutex`ë¥¼ íšë“í•  ê²½ìš° ë°ë“œë½ ë°œìƒ
### vs ë¼ì´ë¸Œë½
ë‘ ê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œê°€ ì„œë¡œ ì§„í–‰ë˜ëŠ” ê²ƒì„ ë°©í•´í•˜ì§€ë§Œ ìŠ¤ë ˆë“œê°€ ì‹¤íŒ¨í•œ í–‰ë™ì„ ê³„ì†í•´ì„œ ì‹œë„í•  ë•Œ ë°œìƒ
>![](https://i.imgur.com/W5OQITh.png)
>
>ì§€ì†í•´ì„œ í–‰ë™ì„ ì‹œë„í•˜ì§€ë§Œ ë°©í•´

```c
void thread_one() // thread1ì´ ì‹¤í–‰í•  í•¨ìˆ˜
{
	int done = 0;

	while (!done) {  
		pthread_mutex_lock(&first_mutex);  
		if (pthread_mutex_trylock(&second_mutex)) {
			pthread_mutex_unlock(&second_mutex); 
			pthread_mutex_unlock(&first_mutex);
			
			done = 1;
		}
	}
	
	else  
		pthread mutex unlock(&first_mutex);
}

void thread_two() // thread2ê°€ ì‹¤í–‰í•  í•¨ìˆ˜
{
	int done = 0;
	
	while (!done) {  
		pthread_mutex_lock(&second_mutex);  
		if (pthread_mutex_trylock(&first_mutex)) {
			pthread_mutex_unlock(&first_mutex); 
			pthread_mutex_unlock(&second_mutex);
			
			done = 1;
		}
	}
	
	else  
		pthread mutex unlock(&second_mutex);
}
```
thread1ì´ `first_mutex`ë¥¼ íšë“í•˜ê³ , thread2ê°€ `second_mutex`ë¥¼ íšë“í•  ê²½ìš°, ê° ìŠ¤ë ˆë“œëŠ” ë¬´í•œì ìœ¼ë¡œ `pthread_mutex_trylock()`ì„ ë°˜ë³µ
#### í•´ê²°ë°©ë²•
ì‹¤íŒ¨ í›„, ì¬ì‹œë„ ì‹œê°„ì„ ë¬´ì‘ìœ„ë¡œ ì •í•œë‹¤ <br>
ex) Ethernet ë„¤íŠ¸ì›Œí¬ê°€ ì¶©ëŒ ë°œìƒ ì§í›„ íŒ¨í‚·ì„ ì¦‰ì‹œ ì¬ì „ì†¡í•˜ì§€ ì•ŠìŒ
# ë°ë“œë½ ë°œìƒ ì¡°ê±´
### 1ï¸âƒ£ Mutual Exclusion
- í•œ ë²ˆì— í•œ ìŠ¤ë ˆë“œë§Œì´ í•´ë‹¹ ìì›ì„ ì´ìš©í•  ìˆ˜ ìˆì–´ì•¼í•¨
- ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ê·¸ ìì›ì„ ìš”ì²­í•  ê²½ìš°, ìš”ì²­í•œ ìŠ¤ë ˆë“œëŠ” ìì›ì´ ì ìœ  ìƒíƒœê°€ ì•„ë‹ ë•Œê¹Œì§€ ë°˜ë“œì‹œ ê¸°ë‹¤ë¦¼
### 2ï¸âƒ£ ë¹„ì„ ì 
- ìì›ë“¤ì€ ì„ ì í•  ìˆ˜ ì—†ì–´ì•¼ í•¨
- ê°•ì œì ìœ¼ë¡œ íšë“í•˜ê±°ë‚˜ ë°©ì¶œí•  ìˆ˜ ì—†ê³ , ì ìœ í•˜ê³  ìˆëŠ” ìŠ¤ë ˆë“œì— ì˜í•´ì„œë§Œ ìë°œì ìœ¼ë¡œ ë°©ì¶œë˜ì–´ì•¼ í•¨
### 3ï¸âƒ£ ì ìœ í•˜ë©° ëŒ€ê¸°
- ìŠ¤ë ˆë“œëŠ” ìµœì†Œí•œ í•˜ë‚˜ì˜ ìì›ì„ ì ìœ í•´ì•¼ í•¨
- ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ì˜í•´ ì ìœ ëœ ìì›ì„ ì¶”ê°€ë¡œ ì–»ê¸° ìœ„í•´ ë°˜ë“œì‹œ ëŒ€ê¸°
### 4ï¸âƒ£  ìˆœí™˜ ëŒ€ê¸°
- ìŠ¤ë ˆë“œì˜ ì§‘í•© {T0, T1, ..., Tn}ì—ì„œ T0 -> T1, T1 -> T2, Tn-1 -> Tn, Tn -> T0ê³¼ ê°™ì€ í˜•íƒœë¡œ ì ìœ í•œ ìì›ì„ ëŒ€ê¸°í•¨
- ì ìœ í•˜ë©° ëŒ€ê¸°ì™€ ê°™ì€ ì˜ë¯¸
# ë°ë“œë½ ì²˜ë¦¬ ë°©ë²•
### 1ï¸âƒ£ Prevention - ë°ë“œë½ ì˜ˆë°©
ë°ë“œë½ ë°œìƒ ì¡°ê±´ ì¤‘ ìµœì†Œí•œ í•˜ë‚˜ê°€ ì„±ë¦½í•˜ì§€ ì•Šë„ë¡ ë³´ì¥
#### Mutual Exclusion
- ì ì–´ë„ í•˜ë‚˜ì˜ ìì›ì€ ê³µìœ í•  ìˆ˜ ìˆì–´ì•¼ í•¨
	> ex) ì½ê¸° ì „ìš© íŒŒì¼
- ê·¼ë³¸ì ìœ¼ë¡œ ê³µìœ ê°€ ë¶ˆê°€ëŠ¥í•œ ìì›ì´ ìˆê¸° ë•Œë¬¸ì— ì¼ë°˜ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥í•œ ë°©ë²•
	> ex) mutex lock
#### ë¹„ì„ ì 
- ì–´ë–¤ ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìì›ì„ ìš”ì²­í•  ê²½ìš°, í•„ìš”í•œ ëª¨ë“  ìì›ì´ ì„ ì ë¨
	1. ì„ ì í•  ìì›ì˜ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ë©´, ëŒ€ê¸°í•˜ê³  ìˆëŠ” ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ìì›ì´ í• ë‹¹ë˜ì–´ ìˆëŠ”ì§€ ê²€ì‚¬í•œ í›„, í•´ë‹¹ ìì›ì„ ì„ ì 
	2. ë‹¤ë¥¸ ëŒ€ê¸° ìŠ¤ë ˆë“œì— ì ìœ ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ í•´ë‹¹ ìŠ¤ë ˆë“œëŠ” ë°˜ë“œì‹œ ëŒ€ê¸°
	3. ëŒ€ê¸°í•˜ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ì˜í•´ì„œ ìì›ì´ ìš”ì²­ë  ê²½ìš°, í•´ë‹¹ ìì›ì€ íƒ€ ìŠ¤ë ˆë“œì— ì„ ì ë˜ì–´ í˜„ì¬ ìŠ¤ë ˆë“œì—ì„œ ë°©ì¶œë¨
- ìƒíƒœê°€ ì‰½ê²Œ ì €ì¥ë˜ê³  ë³µì›ë  ìˆ˜ ìˆëŠ” ìì›ì— ì´ìš©
	> ex) CPU ë ˆì§€ìŠ¤í„°, ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜
- ë°ë“œë½ì´ ê°€ì¥ í”í•˜ê²Œ ë°œìƒí•˜ëŠ” Mutex, Semaphoreì— ì‚¬ìš© ë¶ˆê°€ëŠ¥
#### ì ìœ í•˜ë©° ëŒ€ê¸°
- ìŠ¤ë ˆë“œê°€ ìì›ì„ ìš”ì²­í•  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ìì›ì„ ì ìœ í•˜ê³  ìˆì§€ ì•Šë„ë¡ ë³´ì¥
	1. ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ì„ ì‹œì‘í•˜ê¸° ì „ ëª¨ë“  ìì›ì„ ìš”ì²­í•˜ê³  ì ìœ í•¨
	2. ìŠ¤ë ˆë“œê°€ ìì›ì„ ì „í˜€ ê°–ê³  ìˆì§€ ì•Šì„ ë•Œë§Œ ìì›ì„ ìš”ì²­í•  ìˆ˜ ìˆìŒ
- ìì›ì´ í• ë‹¹ë˜ì—ˆì§€ë§Œ ì¥ê¸°ê°„ ì‚¬ìš©ë˜ì§€ ì•Šì•„ ë‚­ë¹„ë  ìˆ˜ ìˆìœ¼ë©°, ê¸°ì•„ìƒíƒœê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
#### ìˆœí™˜ëŒ€ê¸°
1. ëª¨ë“  ìì›ì„ ì •ë ¬í•˜ì—¬, ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ìì›ì„ ìš”ì²­í•˜ë„ë¡ ìš”êµ¬
	```c
	F(first_mutex) = 1
	F(second_mutex) = 5
	```
	ëª¨ë“  ìŠ¤ë ˆë“œëŠ” `first_mutex` -> `second_mutex` ìˆœìœ¼ë¡œ ìì›ì„ ìš”ì²­í•  ìˆ˜ ìˆìŒ
2. ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ìì›ì„ ìš”ì²­í•˜ë„ë¡ ìš”êµ¬í•˜ë˜, ë™ì¼í•œ ìˆœì„œì˜ ìì›ì„ ëª¨ë‘ ë°©ì¶œ

> âš ï¸ ì´ìš©ë¥ , throughput ğŸ”»
### 2ï¸âƒ£ Avoidance - ë°ë“œë½ íšŒí”¼
ìì›ì´ ì–´ë–»ê²Œ ìš”ì²­ë ì§€ì— ëŒ€í•œ ì¶”ê°€ ì •ë³´ ì œê³µí•˜ì—¬ ë°ë“œë½ ìƒíƒœê°€ ë˜ì§€ ì•Šë„ë¡ ë³´ì¥
#### ì‹œìŠ¤í…œ ìƒíƒœ
![](https://i.imgur.com/aiM0WFk.png)
1. **ì•ˆì „ ìƒíƒœ**
	ìŠ¤ë ˆë“œë“¤ì´ ìš”ì²­í•˜ëŠ” ëª¨ë“  ìì›ì„ ë°ë“œë½ì„ ë°œìƒì‹œí‚¤ì§€ ì•Šê³  ì°¨ë¡€ë¡œ ëª¨ë‘ í• ë‹¹í•´ì¤„ ìˆ˜ ìˆëŠ” ìƒíƒœ
	> ì´ˆê¸° ì‹œìŠ¤í…œ ë³´ìœ ë¶„ : 12ê°œ
	> 
	> ||ìµœëŒ€ ì†Œìš”ëŸ‰|í˜„ì¬ ì‚¬ìš©ëŸ‰|
	> |----|---|---|
	> |T0|10|5|
	> |T1|4|2|
	> |T2|9|2|
	> 
	> ì‹œì  t0 : T0ê°€ 5ê°œ, T1ì´ 2ê°œ, T2ê°€ 2ê°œ ë³´ìœ 
    >
	> ì‹œìŠ¤í…œ ë³´ìœ ë¶„ : 3ê°œ
	> 
	> ê²°ê³¼ : <ì•ˆì „ ìƒíƒœ>
	> ìˆœì„œ
	> 1) **T1** : ì‹œìŠ¤í…œ ë³´ìœ ë¶„ìœ¼ë¡œ ì‘ì—…ì„ ëëƒ„ -> ì‹œìŠ¤í…œ ë³´ìœ ë¶„ : 5ê°œ
	> 2) **T0** : 5ê°œì˜ ë³´ìœ ë¶„ìœ¼ë¡œ ì‘ì—… ëëƒ„ -> ì‹œìŠ¤í…œ ë³´ìœ ë¶„ : 10ê°œ
	> 3) **T2** : 10ê°œì˜ ë³´ìœ ë¶„ì—ì„œ 7ê°œë¥¼ ê°€ì ¸ê°€ ì‘ì—… ëëƒ„ -> ì‹œìŠ¤í…œ ë³´ìœ ë¶„ : 12ê°œ
	
2. **ë¶ˆì•ˆì „ ìƒíƒœ**
	ë¬´ì‚¬íˆ ë§ˆì¹  ìˆ˜ ìˆëŠ” ì‹œí€€ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ëŠ” ìƒíƒœ
	ë°ë“œë½ì¼ ìˆ˜ë„, ì•„ë‹ ìˆ˜ë„ ìˆìŒ
	> ìœ„ì˜ ì˜ˆì‹œ ì‹œì  t0ì—ì„œ T2ê°€ ìì›ì„ í•œ ê°œ ë” ìš”ì²­í•  ê²½ìš°
	> 
	> ||ìµœëŒ€ ì†Œìš”ëŸ‰|í˜„ì¬ ì‚¬ìš©ëŸ‰|
	> |----|---|---|
	> |T0|10|5|
	> |T1|4|2|
	> |T2|9|3|
	> 
	> ì‹œì  t1 : T0ê°€ 5ê°œ, T1ì´ 2ê°œ, T2ê°€ 3ê°œ ë³´ìœ 
    >
	> ì‹œìŠ¤í…œ ë³´ìœ ë¶„ : 2ê°œ
	> 
	> ê²°ê³¼ : <ë¶ˆì•ˆì „ ìƒíƒœ>
	> ìˆœì„œ
	> 1) **T1** : T1ë§Œì´ ì‹œìŠ¤í…œì—ì„œ í• ë‹¹ë°›ì•„ ì‘ì—… ê°€ëŠ¥ -> ì‹œìŠ¤í…œ ë³´ìœ ë¶„ : 4ê°œ
	> ì´ í›„, T0 í˜¹ì€ T2ê°€ ìì›ì„ í• ë‹¹ë°›ê¸°ì—ëŠ” ì‹œìŠ¤í…œ ë‚´ì˜ ìì›ì´ ë¶€ì¡± -> ë°ë“œë½
	> 
	> T1ì´ ìì›ì„ ìš”ì²­í–ˆë‹¤ê³  í•˜ë”ë¼ë„ ë¶ˆì•ˆì „ìƒíƒœì„ì„ í™•ì¸í•˜ê³  ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ ì£¼ì—ˆë‹¤ë©´ ë°ë“œë½ì„ íšŒí”¼í•  ìˆ˜ ìˆì—ˆìŒ
#### ìì› í• ë‹¹ ê·¸ë˜í”„ ì•Œê³ ë¦¬ì¦˜
![](https://i.imgur.com/DLigUQh.png)

ì¢…ë¥˜ë§ˆë‹¤ ìì›ì´ í•œ ê°œì”© ìˆì„ ê²½ìš° ì‚¬ìš© ê°€ëŠ¥
ì‚¬ì´í´ì´ ì—†ë„ë¡ ë³´ì¥

**ì‹œê°„ë³µì¡ë„ : O(N * M)**
```c
bool requestResource(int graph[NUM_PROCESSES][NUM_RESOURCES], int process_id, int requested[NUM_RESOURCES])
{
	// ìš”ì²­ì´ ê°€ëŠ¥í•œì§€ ë¨¼ì € ê²€ì‚¬
	for (int i = 0; i < NUM_RESOURCES; i++) 
	{
		if (requested[i] > 0)
		{
			graph[process_id][i] += requested[i]; //ìš”ì²­ ìì›ì„ ê·¸ë˜í”„ì— ë°˜ì˜
		}
	}

	// ìš”ì²­ í›„ ë°ë“œë½ ê²€ì‚¬
	if (detectDeadlock(graph))
	{
		// ë°ë“œë½ì´ ê°ì§€ë˜ë©´, ìš”ì²­ì„ ê±°ì ˆí•˜ê³  ê·¸ë˜í”„ ì›ìƒë³µêµ¬
		for (int i = 0; i < NUM_RESOURCES; i++) 
		{
			if (requested[i] > 0)
			{
				graph[process_id][i] -= requested[i];
			}
		}
		return false; // ìš”ì²­ ê±°ì ˆ
	}
	return true; // ìš”ì²­ ìŠ¹ì¸
}

bool detectDeadlock(int graph[NUM_PROCESSES][NUM_RESOURCES])
{
	bool finish[NUM_PROCESSES] = {false}; //ëª¨ë“  ìŠ¤ë ˆë“œê°€ ìì›ì„ ì–»ì—ˆëŠ”ì§€ ì—¬ë¶€
	bool changed = true; // ë³€ê²½ ì‚¬í•­ì´ ìˆëŠ”ì§€ ì—¬ë¶€

	while (changed)
	{
		changed = false;
		for (int i = 0; i < NUM_PROCESSES; i++)
		{
			if (!finish[i]) // ì•„ì§ ìì›ì„ ì–»ì§€ ëª»í•œ ìŠ¤ë ˆë“œ
			{
				bool canObatinResources = true;
				for (int j = 0; j < NUM_RESOURCES; j++)
				{
					if (graph[i][j] > 0) // ìì› ìš”ì²­ì¤‘
					{
						canObtainResources = false;
						break;
					}
				}
				if (canObtainResources)
				{
					finish[i] = true; // ìì›ì„ ì–»ì—ˆë‹¤ê³  í‘œì‹œ
					changed = true; // ìƒíƒœ ë³€ê²½ ë°œìƒ
					// ìì›ì„ ë°˜í™˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°€ì •í•˜ê³  ê·¸ë˜í”„ ì—…ë°ì´íŠ¸
					for (int j = 0; j < NUM_RESOURCES; j++)
					{
						graph[i][j] = 0;
					}
				}
			}
		}
	}
}
```
#### ì€í–‰ì› ì•Œê³ ë¦¬ì¦˜
ì¢…ë¥˜ë§ˆë‹¤ ìì›ì´ ì—¬ëŸ¬ ê°œì”© ìˆì„ ê²½ìš° ì‚¬ìš© ê°€ëŠ¥

**ì‹œê°„ ë³µì¡ë„ : O(N^2 * M)**
```c
bool requestResources(int process_id, int request[])
{
	for (int i = 0; i < M; i++)
	{
		// ìš”ì²­ì´ í”„ë¡œì„¸ìŠ¤ì˜ ìµœëŒ€ ìš”êµ¬ëŸ‰ì„ ì´ˆê³¼í•˜ëŠ”ì§€ í™•ì¸
		if (request[i] > need[process_id][i])
		{
			return false;
		}
		
		// ìš”ì²­ì´ í˜„ì¬ ì‚¬ìš© ê°€ëŠ¥í•œ ìì›ë³´ë‹¤ ë§ì€ì§€ í™•ì¸
		if (request[i] > available[i])
		{
			return false;
		}
	}

	// ìì› í• ë‹¹
	for (int i = 0; i < M; i++)
	{
		available[i] -= request[i];
		allocation[process_id][i] += request[i];
		need[process_id][i] -= request[i];
	}

	// ì•ˆì „ ìƒíƒœì¸ì§€ í™•ì¸ í›„, ë¶ˆì•ˆì „ ìƒíƒœë¼ë©´ ìì› í• ë‹¹ ì›ìƒ ë³µêµ¬
	if (!isSafeState())
	{
		for (int i = 0; i < M; i++)
		{
			available[i] += request[i];
			allocation[process_id][i] -= request[i];
			need[process_id][i] += request[i];
		}
		return false;
	}
	return true;
}

bool isSafeState()
{
	int work[M];
	for (int i = 0; i < M; i++)
	{
		work[i] = available[i];
	}

	bool finish[N] = {false};

	while (true)
	{
		bool found = false;
		for (int i = 0; i < N; i++)
		{
			if (!finish[i])
			{
				bool possible = true;
				for (int j = 0; j < M; j++)
				{
					int need = max[i][j] - allocation[i][j];
					if (need > work[j])
					{
						possible = false;
						break;
					}
				}

				if (possible)
				{
					for (int j = 0; j < M; j++)
					{
						work[j] += allocation[i][j];
					}

					finish[i] = true;
					found = true;
				}
			}
		}

		if (!found)
		{
			break;
		}
	}

	for (int i = 0; i < N; i++)
	{
		if (!finish[i])
		{
			return false; // ë¶ˆì•ˆì „ ìƒíƒœ
		}
	}

	return true; // ì•ˆì „ ìƒíƒœ
}

```
### 3ï¸âƒ£ Detection - ë°ë“œë½ íƒì§€
#### ëŒ€ê¸° ê·¸ë˜í”„ (wait-for graph)
![](https://i.imgur.com/Z0Dswo5.png)
ì¢…ë¥˜ë§ˆë‹¤ ìì›ì´ í•œ ê°œì”© ìˆì„ ê²½ìš° ì‚¬ìš© ê°€ëŠ¥
ì‚¬ì´í´ì´ í˜•ì„±ë˜ì§€ ì•Šë„ë¡ ì£¼ê¸°ì ìœ¼ë¡œ **íƒì§€ ì•Œê³ ë¦¬ì¦˜(O(N^2)) í˜¸ì¶œ**
####  ë°ë“œë½ íƒì§€ ì•Œê³ ë¦¬ì¦˜
|  | ì€í–‰ì› ì•Œê³ ë¦¬ì¦˜ | ë°ë“œë½ íƒì§€ ì•Œê³ ë¦¬ì¦˜ |
| :--: | :--- | :--- |
| ëª©ì  | ìì› ìš”ì²­ ì‹œ, ìš”ì²­ì„ ìŠ¹ì¸í•  ë•Œ ì‹œìŠ¤í…œì´ ì•ˆì „ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ”ì§€ íŒë‹¨ | ì‹œìŠ¤í…œì´ ì´ë¯¸ ë°ë“œë½ ìƒíƒœì¸ì§€ íŒë‹¨ |
| ì‹œì  | ìì› ìš”ì²­ ì‹œì  | ì£¼ê¸°ì  í˜¹ì€ íŠ¹ì • ì¡°ê±´ |
| ê²°ê³¼ ì¡°ì¹˜ | íŠ¹ì • ìì› ìš”ì²­ ê±°ì ˆ | ë°ë“œë½ì„ ê°ì§€í•œ í›„ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì¡°ì¹˜ë¥¼ ì·¨í•¨ |

íƒì§€ ì‹œì 
1. ì–´ë–¤ ìŠ¤ë ˆë“œê°€ ìì›ì„ ìš”ì²­í–ˆëŠ”ë° ì¦‰ì‹œ ë§Œì¡±ë˜ì§€ ëª»í•  ë•Œ (ë°ë“œë½ì´ ì¼ì–´ë‚˜ëŠ” ì‹œì )
2. ì§€ì •ëœ ì‹œê°„ ê°„ê²© í˜¹ì€ íŠ¹ì • ì¡°ê±´(CPU ì´ìš©ë¥ ì´ 40% ì´í•˜ë¡œ ë–¨ì–´ì§ˆ ë•Œ)ì¼ ë•Œ

> **ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°ë“œë½ ê´€ë¦¬** <br>
> InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ (MySQL, MariaDB)ì€ **ëŒ€ê¸° ê·¸ë˜í”„**ë¡œ ë°ë“œë½ ê´€ë¦¬ <br>
> ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œê°€ ì£¼ê¸°ì ìœ¼ë¡œ ëŒ€ê¸° ê·¸ë˜í”„ë¥¼ ê²€ì‚¬í•´ ë°ë“œë½ì— ë¹ ì§„ íŠ¸ëœì­ì…˜ì„ ì°¾ì•„ íšŒë³µ <br>
> ì–´ëŠ íŠ¸ëœì­ì…˜ì„ ì¢…ë£Œí• ì§€ëŠ” ê°ê°ì˜ **undo log** ì–‘ì´ë©°, ì´ ì–‘ì´ ì ì€ íŠ¸ëœì­ì…˜ì´ ì¼ë°˜ì ìœ¼ë¡œ **rollback**ì˜ ëŒ€ìƒ
### 4ï¸âƒ£ Recovery - ë°ë“œë½ íšŒë³µ
#### í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œ ì¢…ë£Œ
1. **êµì°© ìƒíƒœ í”„ë¡œì„¸ìŠ¤ë¥¼ ëª¨ë‘ ì¤‘ì§€**
2. **êµì°© ìƒíƒœê°€ ì œê±°ë  ë•Œê¹Œì§€ í•œ í”„ë¡œì„¸ìŠ¤ì”© ì¤‘ì§€**
#### ìì› ì„ ì 
1. **í¬ìƒì ì„ íƒ** : ì–´ëŠ ìì›ê³¼ ì–´ëŠ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì„ ì ë  ê²ƒì¸ê°€?
2. **ë¡¤ë°±** : í”„ë¡œì„¸ìŠ¤ë¥¼ ì•ˆì „í•œ ìƒíƒœë¡œ í›„í‡´ì‹œí‚¤ê³ , ê·¸ ìƒíƒœë¶€í„° ë‹¤ì‹œ ì‹œì‘
3. **ê¸°ì•„ ìƒíƒœ** : ìì›ë“¤ì´ ë™ì¼í•œ í”„ë¡œì„¸ìŠ¤ë¡œë¶€í„° í•­ìƒ ì„ ì ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì–´ë–»ê²Œ ë³´ì¥í•  ê²ƒì¸ê°€? -> ë¡¤ë°±íšŸìˆ˜

