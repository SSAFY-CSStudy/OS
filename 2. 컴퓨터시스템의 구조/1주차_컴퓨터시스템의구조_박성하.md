# 커널
### 이중모드
![](https://i.imgur.com/PqkugQ8.png)
### 종류
#### 1. 사용자 모드
- 모드 비트 : **1**
#### 2. 커널 모드
- 모드 비트 : **0**
### 순서
1) 시스템 부트 시, **커널 모드**에서 시작
2) 운영체제 적재 후, **사용자 모드**에서 사용자 프로세스 시작
3) 인터럽트가 발생할 때마다, 사용자 모드에서 **커널 모드**로 전환
### 기능
- 잘못된 프로그램으로 인해 다른 프로그램, 운영체제가 잘못 실행될 수 없도록 보장
- 사용자 모드에서 특권 명령 실행 시, 실행하지 않고 운영체제로 트랩
	> **특권 명령** <br>
	> 보안을 해칠 수 있는 명령어 <br>
	> 운영체제만 사용할 수 있고 커널 모드일 때만 사용 가능
# 시스템 콜
응용 프로그램의 요청에 따라 커널에 접근하기 위한 인터페이스
### 예시
![](https://i.imgur.com/vO9pA7C.png)
> 파일 입출력만으로도 수많은 시스템 콜 호출이 발생
### API
- **응용 프로그래밍 인터페이스(Application Programming Interface)**
- 프로그래머가 사용 가능한 함수의 집합
- 같은 API를 지원한다면, 어느 시스템에서건 컴파일되고 실행됨 -> 호환성
- **실행환경** (Runtime Environment) 중 **시스템 콜 인터페이스**에 의해 시스템 콜 호출

### 시스템 콜 인터페이스
![](https://i.imgur.com/i1rWX9M.png)
- 시스템 콜의 번호를 인덱스로 테이블 유지
- 시스템 콜을 호출하고 시스템 콜의 상태와 반환 값 리턴
> 예시 <br>
> ![](https://i.imgur.com/ILd69Ed.png)
> - `printf()`문 호출
> - C library가 함수 호출을 가로채고 `write()` 시스템 콜 호출
> - C library가 `write()`의 반환값을 받아 사용자 프로그램에게 리턴함
## 종류
**1. 프로세스 제어**

**2. 파일 조작**

**3. 장치 조작**

**4. 정보 유지 보수**

**5. 통신, 보호**