# 1주차_컴퓨터시스템의 구조

상태: 완료

# 운영체제란 무엇인가?

## 운영체제(Operating System, OS)란?

- 컴퓨터 하드웨어 바로 위에 설치되어 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결하는 소프트웨어 계층
- 혐의의 운영체제(커널) - 좁은 의미
    - 운영체제의 핵심 부분으로 메모리에 상주하는 부분
- 광의의 운영체제 - 넓은 의미
    - 커널 뿐 아니라 각종 주변 시스템 유틸리티를 포함한 개념

## 운영체제의 목적

- 컴퓨터 시스템을 편리하게 사용할 수 있는 환경을 제공
    - 운영체제는 동시 사용자/프로그램들이 각각 독자적 컴퓨터에서 수행되는 것 같은 환상을 제공
    - 하드웨어를 직접 다루는 복잡한 부분을 운영체제가 대행
- 컴퓨터 시스템의 자원을 효율적으로 관리**
    - 프로세서, 기억장치, 입출력 장치 등의 효율적 관리
        - 사용자간의 형평성 있는 자원 분배
        - 주어진 자원으로 최대한 성능을 내도록
    - 사용자 및 운영체제 자신의 보호
    - 프로세스, 파일, 메시지 등을 관리
    - 대부분 컴퓨터의 두뇌를 CPU라 하는데 어떻게 보면 운영체제가 관리자로서의 판단을 하니 두뇌가 아닌가 싶기도 함

## 운영체제의 분류

### 동시 작업 가능 여부

- 단일 작업(Single tasking)
    - 한번에 하나의 작업만 처리
        
        예) MS-DOS 프롬프트 상에서는 한 명령의 수행을 끝내기 전에 다른 명령을 수행시킬 수 없음
        
- 다중 작업(multi tasking)
    - 동시에 두개 이상의 작업 처리
        
        예) UNIX, MS Windows 등에서는 한 명령의 수행이 끝나기 전에 다른 명령이나 프로그램을 수행할 수 있음
        

### 사용자의 수

- 단일 사용자(single user)
    
    예) MS-DOS, MS Windows
    

![스크린샷 2024-01-31 오전 12.31.37.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_12.31.37.png)

- 다중 사용자(multi user)
    
    예) UNIX, NT server
    

![스크린샷 2024-01-31 오전 12.31.24.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_12.31.24.png)

### 처리 방식

- 일괄 처리(batch processing)
    - 작업 요청의 일정량 모아서 한꺼번에 처리 → 자기 마음대로 하겠다는 뜻
    - 작업이 완전 종료될 떄까지 기다려야 함
        
        예) 초기 Punch Card 처리 시스템
        
        ![스크린샷 2024-01-31 오전 12.33.37.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_12.33.37.png)
        

- 시분할(time sharing) - 우리가 주로 사용하는 운영체제
    - 여러 작업을 수행할 때 컴퓨터 처리 능력을 일정한 시간 단위로 분할하여 사용
    - 일광 처리 시스템에 비해 짧은 응답 시간을 가짐
        
        예) UNIX
        
    - interactive한 방식
        
        ![스크린샷 2024-01-31 오전 12.36.01.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_12.36.01.png)
        

- 실시간(Realtime OS)
    - 정해진 시간 안에 어떠한 일이 반드시 종료됨이 보장되어야 하는 실시간 시스템을 위한 OS
        
        예) 원자로/공장 제어, 미사일 제어, 반도체 장비, 로보트 제어
        
- 실시간 시스템의 개념 확장
    - Hard realtime system (경성 실시간 시스템)
    - Soft realtime system (연성 실시간 시스템) - 동영상 처리
    

## 몇가지 용어

- Multitasking - 컴퓨터 안에 프로그램 동시에 돌리는 것
- Multiprogramming - 메모리에 여러 프로그램이 동시에 올라가있는 상황
- Time Sharing - CPU가 시간을 쪼개 쓰는거
- Multiprocess
- 구분
    - 위의 용어들은 컴퓨터에서 여러 작업들을 동시에 수행하는 것을 뜻한다
    - Multiprogramming은 여러 프로그램이 메모리에 올라가 있음을 강조
    - Time Sharing은 CPU의 시간을 분할하여 나누어 쓴다는 의미를 강조
- Multiprocessor
    - 하나의 컴퓨터에 CPU(processor)가 여러개 붙어있음을 의미

## 운영체제의 예

- 유닉스(UNIX)
    - 코드의 대부분을 C언어로 작성
    - 높은 이식성
    - 최소한의 커널 구조
    - 복잡한 시스템에 맞게 확장 용이
    - 소스 코드 공개
    - 프로그램 개발에 용이
    - 다양한 버전
        - System V, FreeBSD, SunOS, Solaris
        - Linux
- DOS(Disk Operating System)
    - MS사에서 1981년 IBM-PC를 위해 개발
    - 단일 사용자용 운영체제, 메모리 관리 능력의 한계(주 기억 장치 : 640KB)
- MS Windows
    - MS사의 다중 작업용 GUI 기반 운영 체제
    - Plug and Play, 네트워크 환경 강화
    - DOS용 응용 프로그램과 호환성 제공
    - 불안정성
    - 풍부한 자원 소프트웨어
- Handheld device를 위한 OS
    - PalmOS, PocketPC (WinCE), Tiny OS

## 운영체제의 구조

![스크린샷 2024-01-31 오전 12.52.23.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_12.52.23.png)

### 컴퓨터 시스템 구조

![스크린샷 2024-01-31 오후 9.44.52.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.44.52.png)

- CPU는 매순간 메모리에 있는 기계어를 하나 읽어와서 실행을 한다.
- CPU안의 register에서 Program Counter라는 메모리 위치를 가리키는 register는 기계어 하나를 실행시키면 그 다음 위치를 가리켜서 실행하고 그 다음 위치, 그 다음 위치…!
- 그러나 기계어에 따라 순차적인 다음이 아닌 다른 위치로 점프를 하는 경우도 있음.
- 매 순간 기계어를 진행 시키기 전에 인터럽트를 체크하다가 인터럽트가 들어오면 모트 비트가 0으로 바뀌면서 운영체제를 가리키게 됨

### Mode bit

- 사용자 프로그램의 잘못된 수행으로 다른 프로그램 및 운영체제에 피해가 가지 않도록 하기 위한 보호 장치 필요
- Mode bit을 통해 하드웨어적으로 두가지 모드의 operation 지원
    
    > 1 사용자 모드 : 사용자 프로그램 수행
    0 모니터 모드* : OS 코드 수행
    > 
- 보안을 해칠 수 있는 중요한 명령어는 모니터 모드에서만 수행 가능한 **‘특권명령’**으로 규정
- interrupt나 Exception 발생시 하드웨어가 mode bit을 0우로 바꿈
- 사용자 프로그램에게 CPU를 넘기기 전에 mode bit을 1로 셋팅

***모니터 모드
(= 커널 모드, 시스템 모드)**

![스크린샷 2024-01-31 오후 9.48.42.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.48.42.png)

### Timer

- 타이머
    - 정해진 시간이 흐른 뒤 운영체제에 제어권이 넘어가도록 인터럽트를 발생시킴
    - 타이머는 매 클럭 틱 떄마나 1씩 감소
    - 타이머 값이 0이 되면 타이머 인터럽트 발생
    - CPU를 특정 프로그램이 독범하는 것으로부터 보호
- 타이머는 time sharing을 구현하기 위해 널리 이용됨
- 타이머는 현재 시간을 계산하기 위해서도 사용

### Device Controller

- I/O device controller
    - 해당 I/O 장치 유형을 관리하는 일종의 작은 CPU
    - 제어 정보를 위해 control register, status register를 가짐
    - local buffer를 가짐 (일종의 data register)
- I/O는 실제 device와 local buffer 사이에서 일어남
- Device controller는 I/O가 끝났을 경우 interrupt로 CPU에 그 사실을 알림

- device driver(장치구동기)
: OS 코드 중 각 장치별 처리루틴 → software
: 컴퓨터 내부에서 CPU가 진행하는 코드
- device controller(장치제어기)
: 각 장치를 통제하는 일종의 작은 CPU → hardware

### 시스템콜(System call)

- 시스템 콜
    - 사용자 프로그램이 운영체제의 서비스를 받기 위해 커널 함수를 호출하는 것

![스크린샷 2024-01-31 오후 10.25.33.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.25.33.png)

![스크린샷 2024-01-31 오후 10.59.32.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.59.32.png)

### 인터럽트(Interrupt)

- 인터럽트
    - 인터럽트 당한 시점의 레지스터와 program counter를 save한 후 CPU의 제어를 인터럽트 처리 루팀에 넘긴다
- Interrupt (넓은 의미)
    - Interrupt(하드웨어 인터럽트): 하드웨어가 발생시킨 인터럽트
    - Trap(소프트웨어 인터럽트)
        - Exception: 프로그램이 오류를 범한 경우
        - System call: 프로그램이 커널 함수를 호출하는 경우
- 인터럽트 관련 용어
    - 인터럽트 벡터
        - 해당 인터럽트의 처리 루틴 주소를 가지고 있음
    - 인터럽트 처리 루틴
    (=Interrupt Service Routine, 인터럽트 핸들러)
        - 해당 인터럽트를 처리하는 커널 함수

![스크린샷 2024-01-31 오후 10.20.15.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.20.15.png)

![스크린샷 2024-01-31 오후 10.32.58.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.32.58.png)

![스크린샷 2024-01-31 오후 10.33.19.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.33.19.png)

- 현대의 운영체제는 인터럽트에 의해 구동됨

### Q. 운영체제한테 CPU가 넘어가는 경우는?

모두 Interrupt line이라는 것을 세팅

그러나 인터럽트를 누가 세팅하는지에 따라 나뉠 수 있음

- 하드웨어에서의 인터럽트 (disc controller)
- 프로그램 소프트웨어에서의 인터럽트 (시스템 콜)
- timer

### 동기식 입출력과 비동기식 입출력

- 동기식 입출력 (synchronous I/O)
    - I/O 요청 후 입출력 작업이 완료된 후에야 제어가 사용자 프로그램에 넘어감
    - 구현 방법 1
        - I/O가 끝날 때까지 CPU를 낭비시킴
        - 매시점 하나의 I/O만 일어날 수 있음
    - 구현 방법 2
        - I/O가 완료될 때까지 해당 프로그램에게서 CPU를 빼앗음
        - I/O 처리를 기다리는 줄에 그 프로그램을 줄 세움
        - 다름 프로그램에게 CPU를 줌
- 비동기식 입출력 (asynchronous I/O)
    - I/O가 시작된 후 입출력 작업이 끝나기를 기다리지 않고 제어가 사용자 프로그램에 즉시 넘어감

!! 두 경우 모두 I/O의 완료는 인터럽트로 알려줌

![스크린샷 2024-01-31 오후 10.54.13.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.54.13.png)

### DMA(Direct Memory Acces)

- 인터럽트가 너무 자주 걸리는 것을 막기 위한 장치
- 빠른 입출력 장치를 메모리에 가까운 속도로 처리하기 위해 사용
- CPU의 중재 없이 device controller가 buffer storage의 내용을 메모리에 block 단위로 직접 전송
- 바이트 단위가 아니라 block 단위로 인터럽트를 발생시킴
    
    ![스크린샷 2024-01-31 오후 11.05.19.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.05.19.png)
    

### 서로 다른 입출력 rlrPdj

- I/O를 수행하는 special instruction에 의해
- Memory Mapped I/O에 의해

![스크린샷 2024-01-31 오후 11.06.37.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.06.37.png)

### 저장장치 계층 구조

![스크린샷 2024-01-31 오후 11.08.42.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.08.42.png)

- 계층에서 위로 올라갈 수록 용량이 작고 비싸기 때문에 모든 것을 보관해놓을 수 없어
- 그래서 caching이 필요한 것.

### 프로그램의 실행 (메모리 load)

![스크린샷 2024-01-31 오후 11.12.39.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.12.39.png)

![스크린샷 2024-01-31 오후 11.14.08.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.14.08.png)

- 프로세스 각각의 Address space
    - stack : 함수를 호출과 return 관련 정보를 쌓아 뒀다가 return과 함께 return
    - data : 프로그램 실행중 전역 변수 등의 데이터
    - code : 기계어들이 위치
- physical memory : 물리 메모리

### 커널 주소 공간의 내용

![스크린샷 2024-01-31 오후 11.20.38.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.20.38.png)

### 사용자 프로그램이 사용하는 함수

- 함수 (function)
    - 사용자 정의 함수
        - 자신의 프로그램에서 정의한 함수
    - 라이브러리 함수
        - 자신의 프로그램에서 정의하지 않고 가져다 쓴 함수
        - 자신의 프로그램의 실행 파일에 포함되어 있다.
    - 커널 함수
        - 운영체제 프로그램의 함수
        - 커널 함수의 호출 = 시스템 콜

![스크린샷 2024-01-31 오후 11.27.09.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.27.09.png)

![스크린샷 2024-01-31 오후 11.27.17.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.27.17.png)

### 프로그램의 실행

![스크린샷 2024-01-31 오후 11.28.35.png](1%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1_%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%20a29cd54e3df343669faf63f7ca3b9630/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-01-31_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.28.35.png)